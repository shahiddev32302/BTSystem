@{
    ViewData["Title"] = "Login";
    Layout = "~/Views/Shared/_LayoutAuth.cshtml";
}

<div class="min-h-screen flex items-center justify-center px-4 bg-bg-light dark:bg-bg-dark">

    <div class="w-full max-w-6xl bg-white dark:bg-bg-dark rounded-2xl shadow-2xl overflow-hidden">
        <div class="flex min-h-[720px]">

            <!-- LEFT PANEL -->
            <div class="hidden lg:flex w-5/12 bg-primary text-white p-14 flex-col justify-between relative">
                <div>
                    <div class="flex items-center gap-3 mb-12">
                        <span class="material-symbols-outlined text-4xl">directions_bus</span>
                        <h2 class="text-2xl font-bold">OmniBus</h2>
                    </div>

                    <h1 class="text-5xl font-black leading-tight mb-6">
                        Reliable<br />Vehicle Tracking
                    </h1>

                    <p class="text-white/80 text-lg max-w-md">
                        Track any vehicle in real time and stay informed with accurate location updates and smart route insights.
                    </p>

                    <div class="mt-10 space-y-4">
                        <div class="bg-white/10 rounded-xl p-4">
                            <p class="font-semibold">Live GPS Tracking</p>
                            <p class="text-sm text-white/70">Pinpoint accuracy for every bus.</p>
                        </div>
                        <div class="bg-white/10 rounded-xl p-4">
                            <p class="font-semibold">Smart Schedules</p>
                            <p class="text-sm text-white/70">Never miss a ride again.</p>
                        </div>
                    </div>
                </div>

                <p class="text-sm text-white/80">Trusted for tracking buses, fleets, and vehicles</p>

                <!-- glow -->
                <div class="absolute -bottom-24 -left-24 w-96 h-96 bg-white/10 rounded-full blur-3xl"></div>
                <div class="absolute top-1/2 -right-24 w-72 h-72 bg-white/5 rounded-full blur-3xl"></div>
            </div>

            <!-- RIGHT PANEL -->
            <div class="w-full lg:w-7/12 flex items-center justify-center px-8 py-12">
                <div class="w-full max-w-md space-y-8">

                    <!-- Heading -->
                    <div>
                        <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Welcome Back</h2>
                        <p class="text-gray-500 dark:text-gray-400 mt-1">
                            Please enter your details to sign in
                        </p>
                    </div>

                    <!-- FORM -->
                    <form asp-action="Login" asp-controller="Account" method="post" class="space-y-5">

                        <!-- Hidden Role -->
                        <input type="hidden" name="Role" id="selectedRole" value="student" />

                        <!-- Role Selector -->
                        <div class="space-y-2">
                            <p class="text-sm font-semibold text-gray-700 dark:text-gray-300">Select Your Role</p>
                            <div class="grid grid-cols-4 gap-3">

                                <!-- Student -->
                                <label class="cursor-pointer">
                                    <input type="radio" name="role" class="peer hidden" checked value="student">
                                    <div class="flex flex-col items-center justify-center gap-1.5 py-3 rounded-xl border
                                        border-primary bg-primary/5 text-primary
                                        peer-checked:bg-primary peer-checked:text-white
                                        transition-all text-xs font-semibold">
                                        <span class="material-symbols-outlined text-xl">school</span>
                                        STUDENT
                                    </div>
                                </label>

                                <!-- Passenger -->
                                <label class="cursor-pointer">
                                    <input type="radio" name="role" class="peer hidden" value="passenger">
                                    <div class="flex flex-col items-center justify-center gap-1.5 py-3 rounded-xl border
                                        border-gray-200 dark:border-gray-700
                                        peer-checked:border-primary peer-checked:bg-primary peer-checked:text-white
                                        transition-all text-xs font-semibold text-gray-600 dark:text-gray-300">
                                        <span class="material-symbols-outlined text-xl">groups</span>
                                        PASSENGER
                                    </div>
                                </label>

                                <!-- Driver -->
                                <label class="cursor-pointer">
                                    <input type="radio" name="role" class="peer hidden" value="driver">
                                    <div class="flex flex-col items-center justify-center gap-1.5 py-3 rounded-xl border
                                        border-gray-200 dark:border-gray-700
                                        peer-checked:border-primary peer-checked:bg-primary peer-checked:text-white
                                        transition-all text-xs font-semibold text-gray-600 dark:text-gray-300">
                                        <span class="material-symbols-outlined text-xl">local_shipping</span>
                                        DRIVER
                                    </div>
                                </label>

                                <!-- Admin -->
                                <label class="cursor-pointer">
                                    <input type="radio" name="role" class="peer hidden" value="admin">
                                    <div class="flex flex-col items-center justify-center gap-1.5 py-3 rounded-xl border
                                        border-gray-200 dark:border-gray-700
                                        peer-checked:border-primary peer-checked:bg-primary peer-checked:text-white
                                        transition-all text-xs font-semibold text-gray-600 dark:text-gray-300">
                                        <span class="material-symbols-outlined text-xl">admin_panel_settings</span>
                                        ADMIN
                                    </div>
                                </label>

                            </div>
                        </div>

                        <!-- Email -->
                        <div>
                            <label class="text-sm font-semibold text-gray-700 dark:text-gray-300">Email or Phone</label>
                            <div class="relative mt-1">
                                <span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">mail</span>
                                <input name="Email" type="email" required
                                       class="w-full pl-11 pr-4 py-3.5 border rounded-lg focus:ring-2 focus:ring-primary outline-none dark:bg-gray-900 dark:border-gray-700 dark:text-white"
                                       placeholder="name@university.edu">
                            </div>
                        </div>

                        <!-- Password -->
                        <div>
                            <label class="text-sm font-semibold text-gray-700 dark:text-gray-300">Password</label>
                            <div class="relative mt-1">
                                <span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">lock</span>
                                <input name="Password" type="password" required
                                       class="w-full pl-11 pr-4 py-3.5 border rounded-lg focus:ring-2 focus:ring-primary outline-none dark:bg-gray-900 dark:border-gray-700 dark:text-white"
                                       placeholder="••••••••">
                            </div>
                        </div>

                        <!-- Remember Me -->
                        <div class="flex items-center justify-between text-sm">
                            <label class="flex items-center gap-2">
                                <input type="checkbox" class="rounded text-primary">
                                <span class="text-gray-600 dark:text-gray-400">Remember me</span>
                            </label>
                            <a href="#" class="text-primary font-semibold hover:underline">Forgot password?</a>
                        </div>

                        <!-- Login Button -->
                        <button type="submit"
                                class="w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-lg shadow-lg transition flex items-center justify-center gap-2 text-lg">
                            Login
                            <span class="material-symbols-outlined">arrow_forward</span>
                        </button>

                    </form>

                    <!-- Divider -->
                    <div class="flex items-center gap-3 pt-6">
                        <div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div>
                        <span class="text-sm text-gray-400">or continue with</span>
                        <div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div>
                    </div>

                    <!-- Social Login -->
                    <div class="grid grid-cols-2 gap-4 pt-2">
                        <button type="button"
                                class="flex items-center justify-center gap-3 border border-gray-300 dark:border-gray-700 rounded-lg py-3 font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition">
                            <i class="fa-brands fa-google text-red-500"></i>
                            Google
                        </button>
                        <button type="button"
                                class="flex items-center justify-center gap-3 border border-gray-300 dark:border-gray-700 rounded-lg py-3 font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition">
                            <i class="fa-brands fa-facebook text-blue-600"></i>
                            Facebook
                        </button>
                    </div>
                    <!-- Signup Footer -->
                    <p class="text-center text-sm text-gray-500 dark:text-gray-400 mt-6">
                        Don’t have an account?
                        <a href="~/Account/SignUp" class="text-primary font-bold hover:underline">Sign up</a>
                    </p>
                </div>
            </div>

        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Role selector with hidden input
        document.querySelectorAll('input[name="role"]').forEach(radio => {
            radio.addEventListener('change', function () {
                document.getElementById('selectedRole').value = this.value;
            });
        });
    </script>
}
