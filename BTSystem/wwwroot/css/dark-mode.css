/* ===================================
   DARK MODE STYLES
   =================================== */

html[data-theme="dark"] {
  --primary: #3b82f6;
  --primary-dark: #2563eb;
  --primary-light: #60a5fa;

  /* Core colors */
  --white: #0f172a;
  /* app uses --white as the base background in light mode; keep it dark here */
  --bg: #0b1220;
  /* page background for dark theme */
  --bg-secondary: #0f1726;
  /* card / panel backgrounds */

  /* Greys (darker -> lighter within dark theme) */
  --gray-50: #071026;
  --gray-100: #0b1220;
  --gray-200: #122136;
  --gray-300: #1b2a3f;
  --gray-400: #243544;
  --gray-500: #304153;
  --gray-600: #3b4b5e;
  --gray-700: #516076;
  --gray-800: #7b8a98;
  --gray-900: #a9b5c2;

  /* Text colors with sufficient contrast on dark bg */
  --text-primary: #e6eef8;
  /* main text */
  --text-secondary: #b6c2cf;
  /* secondary text */
  --text-tertiary: #94a3b8;
  /* muted text */

  /* Borders */
  --border: #233142;
}

html[data-theme="dark"] body {
  background-color: var(--bg);
  color: var(--text-primary);
}

html[data-theme="dark"] .card {
  background-color: var(--bg-secondary);
  border-color: var(--border);
}

html[data-theme="dark"] .card-header,
html[data-theme="dark"] .card-footer {
  background-color: #475569;
  border-color: var(--border);
}

html[data-theme="dark"] .btn-outline-secondary {
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="dark"] .btn-outline-secondary:hover {
  background-color: var(--bg-secondary);
  border-color: var(--text-secondary);
}

html[data-theme="dark"] .form-control,
html[data-theme="dark"] .form-select {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="dark"] .form-control:focus,
html[data-theme="dark"] .form-select:focus {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  border-color: var(--primary-light);
  box-shadow: 0 0 0 3px rgba(60, 130, 246, 0.1);
}

html[data-theme="dark"] .input-group-text {
  background-color: #475569;
  border-color: var(--border);
  color: var(--text-secondary);
}

html[data-theme="dark"] .sidebar {
  background-color: var(--bg-secondary);
  border-right-color: var(--border);
}

html[data-theme="dark"] .sidebar-item {
  color: var(--text-secondary);
}

html[data-theme="dark"] .sidebar-item:hover {
  background-color: #475569;
  color: var(--primary-light);
}

html[data-theme="dark"] .sidebar-item.active {
  background-color: rgba(60, 130, 246, 0.15);
  color: var(--primary-light);
}

html[data-theme="dark"] .login-card {
  background-color: var(--bg-secondary);
}

html[data-theme="dark"] .role-btn {
  background-color: var(--bg);
  color: var(--text-secondary);
  border-color: var(--border);
}

html[data-theme="dark"] .role-btn:hover {
  border-color: var(--primary-light);
  color: var(--primary-light);
}

html[data-theme="dark"] .role-btn.active {
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  color: white;
}

/* Smooth transitions for dark mode */
html[data-theme="dark"] * {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Additional component tweaks for dark mode readability */
html[data-theme="dark"] table,
html[data-theme="dark"] th,
html[data-theme="dark"] td {
  color: var(--text-primary);
}

html[data-theme="dark"] .nav-link,
html[data-theme="dark"] .page-title,
html[data-theme="dark"] h1,
html[data-theme="dark"] h2,
html[data-theme="dark"] h3,
html[data-theme="dark"] h4,
html[data-theme="dark"] h5,
html[data-theme="dark"] h6 {
  color: var(--text-primary);
}

html[data-theme="dark"] .text-muted {
  color: var(--text-secondary) !important;
}

html[data-theme="dark"] .badge.bg-success {
  background-color: #16a34a;
  /* green */
  color: #ffffff;
}

html[data-theme="dark"] .badge.bg-warning {
  background-color: #f59e0b;
  /* amber */
  color: #0b1220;
}

html[data-theme="dark"] .badge.bg-danger {
  background-color: #dc2626;
  /* red */
  color: #ffffff;
}

html[data-theme="dark"] .card {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
}

html[data-theme="dark"] .sidebar-item {
  color: var(--text-secondary);
}

html[data-theme="dark"] .sidebar-item.active {
  color: var(--primary-light);
}

html[data-theme="dark"] .search-box input {
  color: var(--text-secondary);
}

/* Override Bootstrap table defaults in dark mode */
html[data-theme="dark"] .table {
  background-color: transparent;
  color: var(--text-primary);
}

html[data-theme="dark"] .table thead th {
  background-color: var(--bg-secondary);
  color: var(--text-secondary);
  border-bottom: 1px solid var(--border);
}

html[data-theme="dark"] .table tbody td {
  background-color: transparent;
  color: var(--text-primary);
  border-top: 1px solid rgba(255, 255, 255, 0.02);
}

html[data-theme="dark"] .table.table-hover tbody tr:hover {
  background-color: rgba(255, 255, 255, 0.02);
}

/* Dropdown styles for dark mode */
html[data-theme="dark"] .dropdown-menu {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="dark"] .dropdown-item {
  color: var(--text-primary);
}

html[data-theme="dark"] .dropdown-item:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

/* ===================================
   MODAL STYLES FOR DARK MODE
   =================================== */
html[data-theme="dark"] .modal-content {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border) !important;
}

html[data-theme="dark"] .modal-header {
  border-bottom-color: var(--border) !important;
  background-color: var(--bg-secondary) !important;
}

html[data-theme="dark"] .modal-footer {
  border-top-color: var(--border) !important;
  background-color: var(--bg-secondary) !important;
}

html[data-theme="dark"] .modal-title {
  color: var(--text-primary) !important;
}

html[data-theme="dark"] .btn-close {
  filter: invert(1) grayscale(100%) brightness(200%) !important;
}

/* Form labels - ensure white text in dark mode */
html[data-theme="dark"] .form-label,
html[data-theme="dark"] label {
  color: var(--text-primary) !important;
}

/* Form inputs with dark background */
html[data-theme="dark"] .form-control,
html[data-theme="dark"] .form-select {
  background-color: var(--bg) !important;
  color: var(--text-primary) !important;
  border-color: var(--border) !important;
}

html[data-theme="dark"] .form-control::placeholder {
  color: var(--text-tertiary) !important;
}

/* List group for settings tabs */
html[data-theme="dark"] .list-group-item {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border) !important;
}

html[data-theme="dark"] .list-group-item-action:hover,
html[data-theme="dark"] .list-group-item-action:focus {
  background-color: var(--gray-300) !important;
  color: var(--primary-light) !important;
}

html[data-theme="dark"] .list-group-item.active {
  background-color: var(--primary) !important;
  border-color: var(--primary) !important;
  color: white !important;
}